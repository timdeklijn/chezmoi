# Only run in interactive shells
[[ $- != *i* ]] && return

# ---- Aliases ----
alias ls='eza'
alias ll='eza -la'
alias lt='eza -la --tree --level=2'
alias y='yazi'
alias h='hx'
alias lg='lazygit'
alias vim='nvim'
alias zed='zeditor'
alias nrs='sudo nixos-rebuild switch --flake .#fw13'
alias hms='home-manager switch --flake .#tim@fw13'
alias c='clear'
alias copy='wl-copy'
alias paste='wl-paste -n'
alias rgi='rg -i'
alias ff='fd -H'
alias t='tmux'

alias gco='git checkout'
alias gc='git commit'
alias gp='git push'
alias gst='git status'
alias k='kubectl'
alias kgp='kubectl get pods -A'
alias kgn='kubectl get ns'

# ---- Functions ----
# Refresh Azure auth bearer token for Cognitive Services
# Usage: dexauth

dexauth() {
  export AUTHORIZATION="Bearer $(az account get-access-token \
    --resource https://cognitiveservices.azure.com/ \
    --query accessToken -o tsv)"
}

# ---- direnv (auto-load .envrc) ----
if command -v direnv >/dev/null 2>&1; then
  eval "$(direnv hook bash)"
fi

# ---- zoxide (fast directory jumping) ----
if command -v zoxide >/dev/null 2>&1; then
  eval "$(zoxide init bash)"
fi

if command -v atuin >/dev/null 2>&1; then
  eval "$(atuin init bash)"
fi